**# APP Dockerfile**

ROM python:3.12-slim

WORKDIR /app

RUN pip install flask

RUN pip install redis

COPY ./app.py .

CMD \["python", "app.py"]



**# WORKER Dockerfile**

FROM alpine:latest

RUN apk add redis

WORKDIR /app

COPY ./worker.sh .

RUN chmod +x worker.sh

CMD \["./worker.sh"]





**# Docker-compose**

services:

&nbsp; web:

&nbsp;   build: .

&nbsp;   ports:

&nbsp;     - "5000:5000"

&nbsp;   environment:

&nbsp;     - REDIS\_HOST=redis

&nbsp;     - REDIS\_PORT=6379

&nbsp;   depends\_on:

&nbsp;     - redis



&nbsp; redis:

&nbsp;   image: redis:alpine

&nbsp;   container\_name: db

&nbsp;   restart: always



&nbsp; worker:

&nbsp;   build: ./worker

&nbsp;   depends\_on:

&nbsp;     - redis



**# WORKER script**

\#!/bin/sh

while true; do

    JOB=$(redis-cli -h redis BRPOP jobs 5 | tail -n1)



    if \[ -n "$JOB" ]; then

        echo "Processed job: $JOB"

    fi

done



